## â–ª ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ (Performance Test)

> **ëª©í‘œ**
> 
> 
> ë³¸ ë¬¸ì„œëŠ” ECI ì„œë¹„ìŠ¤ ì£¼ìš” ì¸í”„ë¼ APIì— ëŒ€í•´
> 
> **ë¶€í•˜(Load) / ìŠ¤íŒŒì´í¬(Spike) / ì†Œí¬(Soak) í…ŒìŠ¤íŠ¸**ë¥¼ ìˆ˜í–‰í•˜ê³ ,
> 
> ê° í…ŒìŠ¤íŠ¸ ìœ í˜•ë³„ **SLA ê¸°ì¤€ ì¶©ì¡± ì—¬ë¶€ë¥¼ ì½”ë“œ ê¸°ë°˜ìœ¼ë¡œ ê²€ì¦**í•˜ê¸° ìœ„í•œ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ê°€ì´ë“œìž…ë‹ˆë‹¤.
> 

---

## â–ª í…ŒìŠ¤íŠ¸ ê°œìš”

> **ì™œ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ë¥¼ í–ˆë‚˜ìš”?**
> 
- ë‹¤ìˆ˜ ì‚¬ìš©ìžê°€ ë™ì‹œì— APIë¥¼ í˜¸ì¶œí•˜ëŠ” ìƒí™©ì—ì„œ **ì‹œìŠ¤í…œ ì•ˆì •ì„± ê²€ì¦**
- ìš”ì²­ ì¦ê°€ ì‹œ **ì‘ë‹µ ì§€ì—° ë° ì˜¤ë¥˜ ë°œìƒ ì—¬ë¶€ í™•ì¸**
- ê¸‰ê²©í•œ íŠ¸ëž˜í”½ ë³€í™” ë° ìž¥ì‹œê°„ ì‹¤í–‰ì— ëŒ€í•œ **ì‹œìŠ¤í…œ íšŒë³µë ¥ ê²€ì¦**

---

## â–ª ë””ë ‰í„°ë¦¬ êµ¬ì¡°

> ðŸ“‚ performance í´ë” êµ¬ì„±
> 

```
performance/
â”œâ”€â”€ cleanup/# í…ŒìŠ¤íŠ¸ í›„ ë¦¬ì†ŒìŠ¤ ì •ë¦¬
â”œâ”€â”€data/# í…ŒìŠ¤íŠ¸ ë°ì´í„°
â”œâ”€â”€ jmx/# JMeter ì‹œë‚˜ë¦¬ì˜¤ íŒŒì¼
â”œâ”€â”€ report/# HTML ì„±ëŠ¥ ë¦¬í¬íŠ¸
â”œâ”€â”€ result/# ì‹¤í–‰ ê²°ê³¼ (.jtl)
â”œâ”€â”€ scripts/# ì‹¤í–‰ ë° ê²°ê³¼ ë¶„ì„ ìŠ¤í¬ë¦½íŠ¸
â””â”€â”€ README.md
```

---

## â–ª í…ŒìŠ¤íŠ¸ ë²”ìœ„

ë³¸ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ëŠ” **ECI ì„œë¹„ìŠ¤ ì£¼ìš” ì¸í”„ë¼ ë¦¬ì†ŒìŠ¤ì˜ ì¡°íšŒ(Read) API**ë¥¼ ëŒ€ìƒìœ¼ë¡œ í•˜ë©°,

ì‹¤ì œ ì‚¬ìš©ìž íŠ¸ëž˜í”½ íŒ¨í„´ì„ ê¸°ì¤€ìœ¼ë¡œ **ë¶€í•˜ / ìŠ¤íŒŒì´í¬ / ë‚´êµ¬ í…ŒìŠ¤íŠ¸**ë¥¼ ìˆ˜í–‰í•œë‹¤.

---

### âœ… í¬í•¨ ë²”ìœ„

### 1ï¸âƒ£ í•µì‹¬  API í…ŒìŠ¤íŠ¸

> ì‹¤ì œ ì„œë¹„ìŠ¤ ì´ìš© ì‹œ ê°€ìž¥ ë¹ˆë²ˆí•˜ê²Œ í˜¸ì¶œë˜ëŠ” APIë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì„±ëŠ¥ ê²€ì¦ ìˆ˜í–‰
> 
- **ì»´í“¨íŠ¸**
    - ê°€ìƒë¨¸ì‹  ëª©ë¡ ì¡°íšŒ
    - ê°€ìƒë¨¸ì‹  ìƒì„±
- **ë„¤íŠ¸ì›Œí¬**
    - ë„¤íŠ¸ì›Œí¬ ì¸í„°íŽ˜ì´ìŠ¤ ì¡°íšŒ
    - ê°€ìƒ ë„¤íŠ¸ì›Œí¬ ì¡°íšŒ
    - ì„œë¸Œë„· ì¡°íšŒ
    - ê³µì¸ IP ì¡°íšŒ
- **ë¸”ë¡ ìŠ¤í† ë¦¬ì§€**
    - ë¸”ë¡ ìŠ¤í† ë¦¬ì§€ ì¡°íšŒ
    - ìŠ¤ëƒ…ìƒ· ì¡°íšŒ
    - ìŠ¤ëƒ…ìƒ· ìŠ¤ì¼€ì¤„ëŸ¬ ì¡°íšŒ
- **ì˜¤ë¸Œì íŠ¸ ìŠ¤í† ë¦¬ì§€**
    - ë²„í‚· ì¡°íšŒ
    - ì‚¬ìš©ìž ì¡°íšŒ
    - ê¶Œí•œ ì¡°íšŒ

---

### 2ï¸âƒ£ í…ŒìŠ¤íŠ¸ ìœ í˜•ë³„ ì ìš© ë²”ìœ„

- **Load Test**
    - ë‹¤ìˆ˜ ì‚¬ìš©ìžì˜ ì§€ì†ì ì¸ ë™ì‹œ ì¡°íšŒ ìš”ì²­ ìƒí™©ì—ì„œ
    - TPS, í‰ê·  ì‘ë‹µ ì‹œê°„, P95, Error Rate ê¸°ì¤€ ì¶©ì¡± ì—¬ë¶€ ê²€ì¦
- **Spike Test**
    - ìˆœê°„ì ì¸ íŠ¸ëž˜í”½ ê¸‰ì¦/ê°ì†Œ ìƒí™©ì—ì„œ
    - ì‘ë‹µ ì•ˆì •ì„± ë° ë³€ë™ì„±(STDEV) ê²€ì¦
- **Soak Test**
    - ìž¥ì‹œê°„ ë°˜ë³µ ìš”ì²­ í™˜ê²½ì—ì„œ
    - ì‘ë‹µ ì‹œê°„ ì €í•˜, Error Rate ì¦ê°€ ì—¬ë¶€ ê²€ì¦

---

### 3ï¸âƒ£ ì œí•œì  ìƒì„± / ì‚­ì œ (Setup / Teardown)

> ì„±ëŠ¥ ì¸¡ì •ì´ ì•„ë‹Œ í…ŒìŠ¤íŠ¸ í™˜ê²½ ìœ ì§€ë¥¼ ìœ„í•œ ëª©ì ìœ¼ë¡œë§Œ ìˆ˜í–‰
> 
- í…ŒìŠ¤íŠ¸ ë°ì´í„° ì¤€ë¹„ë¥¼ ìœ„í•œ ë¦¬ì†ŒìŠ¤ ìƒì„± (POST)
- í…ŒìŠ¤íŠ¸ ì¢…ë£Œ í›„ ë¦¬ì†ŒìŠ¤ ì •ë¦¬ (DELETE)

âš ï¸ ìƒì„±/ì‚­ì œ APIì˜ ì„±ëŠ¥ ì§€í‘œëŠ” **SLA íŒì • ëŒ€ìƒì—ì„œ ì œì™¸**

---

### âŒ ì œì™¸ ë²”ìœ„

- ì¼ë°˜ì ì¸ **Create / Update / Delete API ì„±ëŠ¥ ì¸¡ì •**

**ì œì™¸ ì‚¬ìœ **

- ìƒì„±/ì‚­ì œ APIëŠ” ë‚´ë¶€ ë¦¬ì†ŒìŠ¤ í• ë‹¹, ë¹„ë™ê¸° ì²˜ë¦¬ ë“±ìœ¼ë¡œ ì¸í•´
    
    ì‘ë‹µ ì‹œê°„ íŽ¸ì°¨ê°€ í¬ê³  í™˜ê²½ ì˜ì¡´ì„±ì´ ë†’ìŒ
    
- ì¡°íšŒ APIê°€ ì‹¤ì œ ì‚¬ìš©ìž íŠ¸ëž˜í”½ì„ ê°€ìž¥ ìž˜ ëŒ€í‘œí•˜ë©°,
    
    ì„±ëŠ¥ ë³‘ëª© ë¶„ì„ ëª©ì ì— ë” ì í•©í•˜ë‹¤ê³  íŒë‹¨í•˜ì—¬ ì œì™¸
    

---

### ðŸ“Œ í…ŒìŠ¤íŠ¸ ë²”ìœ„ ì°¸ê³  ì‚¬í•­

- ë³¸ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ëŠ” **ê¸°ëŠ¥ ê²€ì¦ì´ ì•„ë‹Œ ì‹œìŠ¤í…œ ì„±ëŠ¥ ë° ì•ˆì •ì„± ê²€ì¦**ì„ ëª©ì ìœ¼ë¡œ í•œë‹¤.
- API ê¸°ëŠ¥ ì •ìƒ ë™ìž‘ ì—¬ë¶€ëŠ” ë³„ë„ì˜ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ì „ì œë¡œ í•œë‹¤.

---

## â–ªí…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì„¤ê³„

> ì•„ëž˜ ì‚¬ì§„ì€ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ì˜ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
ìž…ë‹ˆë‹¤.
**ðŸ“Ž [ì „ì²´ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤](https://docs.google.com/spreadsheets/d/1e8LNYk1bJ4Kj9FAFixmPWQUegHEZanXB-SdNI_wVGUc/edit?gid=1360156691#gid=1360156691)** ì—ì„œ ë” ìžì„¸ížˆ í™•ì¸í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
> 

![ì „ì²´ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤](/uploads/95c70c13467e9817c31fec93e4c8a44e/ì „ì²´_ì„±ëŠ¥í…ŒìŠ¤íŠ¸_ì¼€ì´ìŠ¤.png)
### 

---

## â–ª ì„±ëŠ¥ ì§€í‘œ & SLA ê¸°ì¤€

> ì•„ëž˜ í‘œëŠ” ê° ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ì— ëŒ€í•œ SLAìž…ë‹ˆë‹¤.
ðŸ”—[ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ê¸°ì¤€](https://docs.google.com/spreadsheets/d/1e8LNYk1bJ4Kj9FAFixmPWQUegHEZanXB-SdNI_wVGUc/edit?gid=185219948#gid=185219948) ì—ì„œ ë” ìžì„¸ížˆ í™•ì¸í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
ëª¨ë“  ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ëŠ” .jtl ê²°ê³¼ë¥¼ Python ë¶„ì„ ìŠ¤í¬ë¦½íŠ¸ë¡œ ìžë™ íŒì • ê°€ëŠ¥í•©ë‹ˆë‹¤.
> 

---

### â–ª Load Test SLA ê¸°ì¤€

| Metric | SLA |
| --- | --- |
| GET TPS | ì´ˆë‹¹ ì²˜ë¦¬ëŸ‰ 100ê±´ ì´ìƒ |
| P95 Response Time | 95% ì‘ë‹µ ì‹œê°„ 2ì´ˆ ì´ë‚´ |
| Error Rate | 1%ë¯¸ë§Œ |
| Average | í‰ê·  ì‘ë‹µ ì‹œê°„ 1ì´ˆ ë¯¸ë§Œ |
| Max   | ìµœëŒ€ ì‘ë‹µ ì‹œê°„ 3ì´ˆ ë¯¸ë§Œ |

> âš™ï¸ REQUIRE_GET=true ì„¤ì • ì‹œ GET ìš”ì²­ TPSë¥¼ ë³„ë„ ê²€ì¦
> 

---

### â–ª Spike Test SLA ê¸°ì¤€

| Metric | SLA |
| --- | --- |
| GET TPS | ì´ˆë‹¹ ì²˜ë¦¬ëŸ‰ 50ê±´ ì´ìƒ |
| Max | ìµœëŒ€ ì‘ë‹µ ì‹œê°„ 5ì´ˆ ë¯¸ë§Œ |
| Error Rate | 2%ë¯¸ë§Œ |

> íŠ¸ëž˜í”½ ê¸‰ì¦/ê¸‰ê° ìƒí™©ì—ì„œë„ ì‘ë‹µ ì‹œê°„ ë³€ë™ì„±ì´ ê³¼ë„í•˜ì§€ ì•Šì€ ì§€ë¥¼ ì¤‘ì ì ìœ¼ë¡œ ê²€ì¦
> 

---

### â–ª Soak Test SLA ê¸°ì¤€

| Metric | SLA |
| --- | --- |
| ìžì›ëˆ„ìˆ˜ | ì¢…ë£Œ í›„ ìž”ë¥˜ ë¦¬ì†ŒìŠ¤ 0ê°œ |
| Response Time | í‘œì¤€íŽ¸ì°¨ 500ms ì´ë‚´ |
| Error Rate | 1% ë¯¸ë§Œ |

> ìž¥ì‹œê°„ ì‹¤í–‰ í…ŒìŠ¤íŠ¸ íŠ¹ì„± ìƒ Load í…ŒìŠ¤íŠ¸ ëŒ€ë¹„ ì™„í™”ëœ ê¸°ì¤€ ì ìš©
> 

---

## â–ª ì‹¤í–‰ ë°©ë²•

### 1. í† í° ë°œê¸‰

> ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ìš© Access Token ë°œê¸‰
> 

```bash
python -m scripts.get_token
```

> JMeter Header
> 
> 
> `Authorization: Bearer ${__P(ECI_ACCESS_TOKEN)}`
> 

---

### 2. JMeter ì‹¤í–‰

> í…ŒìŠ¤íŠ¸ ì‹¤í–‰
> 

```bash
bash performance/scripts/run_jmeter.sh ct_vm_get_load -250
```

- ê²°ê³¼ íŒŒì¼ ìƒì„± ìœ„ì¹˜: `performance/result/`

---

### 3. ê²°ê³¼ ë¶„ì„

> SLA ê¸°ì¤€ ìžë™ íŒì •
> 

```bash
py performance/scripts/analyze_result.py performance/result/ct_vm_get_load-250.jtl
```

> **Spike í…ŒìŠ¤íŠ¸**ëŠ”  **analyze_spike_result.py**,                                                                                                       **Soak í…ŒìŠ¤íŠ¸**ëŠ” **analyze_soak_result.py** ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©
> 

---

## â–ª ê²°ê³¼ ì˜ˆì‹œ

### analyze_result.py ì¶œë ¥ ì˜ˆì‹œ

### ðŸ“¸ Load Test ì‹¤í–‰ ê²°ê³¼ (ct_vm_get_load.jmx)

![SLA_PASS](/uploads/b9fdd1d634ce3a11f72f885ad039ca19/SLA_PASS.png)

âœ… **SLA ì¶©ì¡± ì‹œ â†’ PASS**

---

### ðŸ“¸ Load Test ì‹¤í–‰ ê²°ê³¼ (SLA ë¯¸ì¶©ì¡± ì‚¬ë¡€)

![SLA_FAIL](/uploads/f5517df5d1dd390dbe4236ef15d21beb/SLA_FAIL.png)

âŒ **SLA ë¯¸ì¶©ì¡± ì‹œ â†’ ERROR**

> ðŸ“Œ ERROR ê²°ê³¼ëŠ” í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ë¥¼ ì˜ë¯¸í•˜ì§€ ì•Šìœ¼ë©°,
> 
> 
> í…ŒìŠ¤íŠ¸ ëª©ì  ìƒ í—ˆìš© ê°€ëŠ¥í•œ ë²”ìœ„ì¸ì§€ ì—¬ë¶€ë¥¼ ë¶„ì„í•˜ì—¬
> 
> **ì„±ëŠ¥ ë³‘ëª© ì§€ì  ë° ê°œì„  í¬ì¸íŠ¸ ë„ì¶œ**ì— í™œìš©í•œë‹¤.
> 

---

## â–ª ë¦¬í¬íŠ¸ í™•ì¸

> HTML ì„±ëŠ¥ ë¦¬í¬íŠ¸ ìœ„ì¹˜
> 

```
performance/report/ct_vm_get_load-250/
```

- JMeter Dashboard ê¸°ë°˜ ì‹œê°í™” ì œê³µ

---

## â–ªí…ŒìŠ¤íŠ¸ í›„ ì •ë¦¬ (Cleanup)

> ë™ì  ë¦¬ì†ŒìŠ¤ ì •ë¦¬ë¥¼ ìœ„í•´ JENKINSì—ì„œëŠ” ì™¸ë¶€ cleanup ë°©ì‹
 ë¡œì»¬ì—ì„œëŠ” JMeter tearDown + Groovy ê¸°ë°˜ ì •ë¦¬ ë°©ì‹ì„ ì±„íƒ
> 

```bash
python performance/cleanup/cleanup_entry.py
```

---

## â–ª ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ê²°ê³¼ ìš”ì•½

> âœ”ï¸ JMeter + Python ê¸°ë°˜ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ìžë™í™”
> 
> 
> âœ”ï¸ Load / Spike / Soak í…ŒìŠ¤íŠ¸ë³„ **ë¶„ë¦¬ëœ SLA ê¸°ì¤€ ì ìš©**
> 
> âœ”ï¸ PASS / FAIL ìžë™ íŒì • êµ¬ì¡°
> 
> âœ”ï¸ CI/CD(Jenkins) ì—°ë™ ê°€ëŠ¥í•œ ìž¬í˜„ì„± ë†’ì€ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì²´ê³„
>
