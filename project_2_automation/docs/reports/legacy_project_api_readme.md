## β–οΈECI API ν…μ¤νΈ μ†κ°

> **ECI μ‚¬μ΄νΈ API ν…μ¤νΈλ” μ„λΉ„μ¤μ—μ„ μ κ³µν•λ” μ£Όμ” API μ—”λ“ν¬μΈνΈκ°€ μ •μƒμ μΌλ΅ λ™μ‘ν•λ”μ§€λ¥Ό ν™•μΈν•κΈ° μ„ν•΄ μν–‰λμ—μµλ‹λ‹¤.**
> 
> 
> **κ° API μ”μ²­κ³Ό μ‘λ‹µμ„ κΈ°μ¤€μΌλ΅ κΈ°λ¥ λ™μ‘ μ—¬λ¶€λ¥Ό κ²€μ¦ν•λ©°, ECI μ‚¬μ΄νΈμ ν•µμ‹¬ κΈ°λ¥μ΄ API λ‹¨μ—μ„ μ•μ •μ μΌλ΅ μ κ³µλλ”μ§€λ¥Ό ν™•μΈν•λ” κ²ƒμ„ λ©μ μΌλ΅ μ§„ν–‰ν•μ€μµλ‹λ‹¤.**
> 


<br>

## β–οΈAPI ν…μ¤νΈ κ²°κ³Ό μ”μ•½

| **ν•­λ©** | **κ²°κ³Ό** |
| --- | --- |
| **μ΄ ν…μ¤νΈ μΌ€μ΄μ¤** | **158κ°** |
| **μλ™ν™” μ„±κ³µ μΌ€μ΄μ¤** | **137κ°** |
| **μ‹¤ν–‰ ν™κ²½** | **λ³‘λ ¬ 6κ° μ¤λ λ“** |
| **μ΄ ν…μ¤νΈ μ†μ” μ‹κ°„** | **μ•½ 3λ¶„** |
| **Jenkins μ„±κ³µλ¥  ν‰κ· ** | **μ•½ 80%** |

<details>
<summary><strong>Allure κ²°κ³Ό λ¦¬ν¬νΈ λ―Έλ¦¬λ³΄κΈ°</strong></summary>
<img src="/uploads/d41dc26e20ed6e58fdfc93ad0809c9ea/γ…‡γ„΄γ„Ήγ…‡γ„΄γ…‡γ„Ή.png" width="70%"/>

</details>

<br>

## β–οΈ API λ…μ„Έμ„

μ•„λ ν‘λ” ECIμ μ£Όμ” μ—”λ“ν¬μΈνΈμ ν•µμ‹¬ μ”μ²­/μ‘λ‹µ ν•„λ“λ¥Ό μ”μ•½ν• λ‚΄μ©μ…λ‹λ‹¤. 

μ „μ²΄ μ¤ν‚¤λ§λ” [π”—μ „μ²΄ APIλ…μ„Έμ„ λ³΄κΈ°](https://docs.google.com/spreadsheets/d/1e8LNYk1bJ4Kj9FAFixmPWQUegHEZanXB-SdNI_wVGUc/edit?pli=1&gid=0#gid=0)μ—μ„ ν™•μΈ κ°€λ¥ν•©λ‹λ‹¤.

| Method | Endpoint | μ”μ²­ λ°μ΄ν„° | μ‘λ‹µ λ°μ΄ν„° | μƒνƒμ½”λ“ |
| --- | --- | --- | --- | --- |
| GET | /organization/resource_usage | - | vm_count, storage_gb, gpu, cpu, memory | 200 |
| POST | /compute/virtual-machine/new | name, zone_id, instance_type_id | id (UUID) | 200 |
| PATCH | /network/network-interface/{ID}/edit | name (UUID) | id (UUID) | 200 |
| DELETE | /block-storage/block-storage | - | id(UUID),status | 200 |

- **μ „μ²΄ API λ…μ„Έμ„ λ―Έλ¦¬λ³΄κΈ°**
<img src="../../../assets/images/project_result/api_spec.png" width="70%"/>

<br><br>

## β–οΈ ν…μ¤νΈ μΌ€μ΄μ¤ μ„¤κ³„

### μ„¤κ³„ κΈ°μ¤€

ν…μ¤νΈ μΌ€μ΄μ¤λ” κΈ°λ¥ λ‹¨μ„λ΅ μ—”λ“ν¬μΈνΈλ¥Ό λ‚λ„μ–΄ μ„¤κ³„ν•μ€μΌλ©°, μ •μƒ νλ¦„κ³Ό μμ™Έ μΌ€μ΄μ¤ λ¨λ‘ ν¬ν•¨ν•λ„λ΅ μ‘μ„±ν–μµλ‹λ‹¤.
κ°€λ¥ν• ν• λ§μ€ μ‹λ‚λ¦¬μ¤λ¥Ό ν¬ν•¨ν•μ—¬ API μ»¤λ²„λ¦¬μ§€λ¥Ό μµλ€ν™”ν•λ ¤κ³  λ…Έλ ¥ν–μµλ‹λ‹¤. 
μ΄λ¥Ό ν†µν•΄ APIμ μ•μ •μ„±κ³Ό μ‹ λΆ°μ„±μ„ λ†’μ΄λ” λ° μ¤‘μ μ„ λ‘μ—μµλ‹λ‹¤.


### λ€ν‘ ν…μ¤νΈ μΌ€μ΄μ¤ λ―Έλ¦¬λ³΄κΈ°

μ•„λ μ‚¬μ§„μ€ API ν…μ¤νΈλ¥Ό μ„ν• **λ€ν‘ ν…μ¤νΈ μΌ€μ΄μ¤**μ…λ‹λ‹¤.

μ¤ν¬λ¦°μƒ·μΌλ΅ ν™•μΈν•κ±°λ‚, π”—[μ „μ²΄ API TC  λ³΄κΈ°](https://docs.google.com/spreadsheets/d/1e8LNYk1bJ4Kj9FAFixmPWQUegHEZanXB-SdNI_wVGUc/edit?pli=1&gid=1900619120#gid=1900619120)μ—μ„ μμ„Έν ν™•μΈν•  μ μμµλ‹λ‹¤.

<img src="../../../assets/images/project_result/api_tc.png" width="70%"/>


<br><br>

## β–οΈ API ν…μ¤νΈ κ΄€λ ¨ λ””λ ‰ν† λ¦¬ κµ¬μ΅°

ν”„λ΅μ νΈμ API ν…μ¤νΈλ” `src/utils`μ μ ν‹Έλ¦¬ν‹° λ¨λ“κ³Ό `tests/api` ν•μ„ κΈ°λ¥λ³„ ν…μ¤νΈλ΅ κµ¬μ„±λλ©°, `env`λ¥Ό ν†µν•΄ ν…μ¤νΈ ν™κ²½μ„ μ μ—°ν•κ² μ„¤μ •ν•  μ μμµλ‹λ‹¤.
```
    project-root/
    β”β”€ src/
    β”‚  β””β”€ utils/
    β”‚     β”β”€ api_client.py       # API μ”μ²­ μ²λ¦¬ λ¨λ“
    β”‚     β”β”€ endpoints.py        # API μ—”λ“ν¬μΈνΈ μ •μ
    β”‚     β””β”€ token_manager.py    # μΈμ¦ ν† ν° κ΄€λ¦¬
    β”β”€ tests/
    β”‚  β””β”€ api/                       # μλ™ν™” ν…μ¤νΈ
    β”‚     β”β”€ blockstorage/
    β”‚     β”β”€ network/
    β”‚     β”β”€ compute/
    β”‚     β”β”€ object/
    β”‚     β”β”€ test_home.py
    β”‚     β”β”€ test_infra.py
    β”‚     β””β”€ test_parallelfilesystem.py
    β”β”€ env/                       # ν™κ²½ λ³€μ μ„¤μ • νμΌ
```
<br>

## β–οΈ ν…μ¤νΈ μ‹¤ν–‰ λ°©λ²• (λ΅μ»¬)

 ν…μ¤νΈλ¥Ό λ΅μ»¬ ν™κ²½μ—μ„ μ‹¤ν–‰ν•λ ¤λ©΄ λ‹¤μ λ‹¨κ³„λ¥Ό λ”°λ¥΄μ„Έμ”.

1. .env νμΌ μ„Έν…
    
    `.env.sample` νμΌμ„ μ°Έκ³ ν•μ—¬ `.env` νμΌμ„ μƒμ„±ν•κ³  ν™κ²½ λ³€μ κ°’μ„ μ„¤μ •ν•©λ‹λ‹¤.
    
2. ν…μ¤νΈ μ‹¤ν–‰ (Master Branch)

```jsx
    # project_root μ΄λ™
    cd project_root

    # 1. ν† ν° λ°›μ•„μ¤κΈ°
    python -m scripts.get_token

    # 2. 6κ°μ ν”„λ΅μ„Έμ¤λ΅ λ³‘λ ¬ μ‹¤ν–‰ (μμ‹ μ cpu μ¤ν™μ λ§κ² κ°―μλ¥Ό μ„¤μ •)
    python -m pytest tests/api --local-parallel --workers 6 
```


<br>

## β–οΈ API ν…μ¤νΈ ν•µμ‹¬ μ„±κ³Ό & κ°•μ 

- PR μ‹μ μ—μ„ μλ™ν™” ν…μ¤νΈκ°€ μ‹¤ν–‰λμ–΄ **λΉ λ¥Έ ν”Όλ“λ°±** μ κ³µ
- κΈ°λ¥λ³„λ΅ μ²΄κ³„μ μΌλ΅ μ‘μ„±λ ν…μ¤νΈ μΌ€μ΄μ¤λ΅ **μ£Όμ” μ—”λ“ν¬μΈνΈ λ€λ¶€λ¶„μ„ μ»¤λ²„**
- ν…μ¤νΈ μ‹¤ν¨ μ‹ μ–΄λ–¤ μ”μ²­μ—μ„ μ‹¤ν¨ ν–λ”μ§€μ™€ λ°μƒν• μ¤λ¥λ¥Ό **μ‰½κ² ν™•μΈ κ°€λ¥**
- μ¬μ‚¬μ© κ°€λ¥ν• μ ν‹Έλ¦¬ν‹° λ¨λ“(`api_client`, `endpoints`, `token_manager`) ν™μ©μΌλ΅ **μ μ§€λ³΄μμ„±κ³Ό ν™•μ¥μ„± ν–¥μƒ**
- μ΄ 120κ° ν…μ¤νΈ μ¤‘ 100% μ„±κ³µ, λ³‘λ ¬ 6κ° μ¤λ λ“ κΈ°μ¤€ **μ•½ 3λ¶„ λ‚΄μ™Έ**λ΅ μ „μ²΄ ν…μ¤νΈ μ™„λ£

<br>

